Date: 2026-01-28

Checklist Results
- [x] GAS ping works and returns JSON
- [x] adminLogin returns adminToken
- [x] uploadData upserts Stores and Products
- [x] openOrder opens drink + meal sessions (one per storeType)
- [x] getCurrentOrders returns both sessions and drink option sets
- [x] getProducts returns products by storeId
- [x] submitOrder creates Orders with monotonic OrderID (observed: 1,2,3,4)
- [x] updateOrder succeeds only for owner while session open
- [x] cancelOrder succeeds only for owner while session open; cancelled orders excluded from totals/statistics
- [x] getMyOrders/getOrderSessions support history lookup
- [x] getStatistics/exportOrders match Orders data
- [x] closeOrder closes sessions; submit/update after close are rejected with SESSION_CLOSED

Key Evidence Snippets (responses)

ping:
{"success":true,"data":{"message":"pong","method":"POST","timestamp":"2026-01-28T22:56:13+08:00"}}

adminLogin:
{"success":true,"adminToken":"(redacted)","expiresIn":21600}

uploadData (stores):
{"success":true,"message":"Data uploaded.","insertedCount":2,"updatedCount":0}

uploadData (products):
{"success":true,"message":"Data uploaded.","insertedCount":2,"updatedCount":0}

submitOrder (success):
{"success":true,"orderId":1,"message":"Order submitted."}

updateOrder owner check (fail as Bob):
{"success":false,"error":{"code":"NOT_ORDER_OWNER","message":"Order does not belong to user."}}

close then submit (fail):
{"success":false,"error":{"code":"SESSION_CLOSED","message":"Order session is closed."}}

Notes
- If curl shows HTML "Moved Temporarily", add `-L`.
- If curl shows 405 after redirect, remove forced `-X POST`.
